(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["views"],{"095a":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("basic-container",[i("avue-tabs",{attrs:{option:t.taboption},on:{change:t.handleChange}}),(t.type.prop,t._e()),"tab2"===t.type.prop?i("avue-form",{attrs:{option:t.option2},on:{submit:t.handleSubmit2},model:{value:t.form2,callback:function(e){t.form2=e},expression:"form2"}}):t._e()],1)],1)},a=[],s=(i("7f7f"),i("c0c7")),o=i("c54a"),r=i("9883"),c={data:function(){var t=this,e=function(e,i,n){i&&t.form2.newPassword!=i?n(new Error("两次输入密码不一致，请重新输入！")):n()},i=function(t,e,i){e&&Object(o["e"])(e)[0]?i(new Error(Object(o["e"])(e)[1])):i()},n=function(t,e,i){e?Object(o["c"])(e)?i():i(new Error("邮箱格式不正确，请重新输入！")):i()};return{type:{},taboption:{column:[{icon:"el-icon-info",label:"修改密码",prop:"tab2"}]},index:0,option:{tabs:!0,tabsActive:1,group:[{label:"个人信息",prop:"info"},{label:"修改密码",prop:"password"}]},option1:{column:[{label:"头像",type:"upload",fileSize:512,listType:"picture-img",propsHttp:{res:"data",url:"link"},canvasOption:{text:" ",ratio:.1},action:"/api/blade-resource/oss/endpoint/put-file",tip:"只能上传jpg/png用户头像，且不超过500kb",span:12,row:!0,prop:"avatar"},{label:"姓名",span:12,row:!0,prop:"realName",rules:[{required:!0,message:"请输入用户姓名",trigger:"blur"},{min:2,max:20,message:"姓名长度在2到20个字符"}]},{label:"用户名",span:12,row:!0,maxlength:20,prop:"name"},{label:"手机号",span:12,row:!0,prop:"phone",maxlength:11,rules:[{required:!1,message:"请输入手机号码",trigger:"blur"},{validator:i,trigger:"blur"}]},{label:"邮箱",prop:"email",maxlength:40,span:12,row:!0,rules:[{required:!1,message:"请输入邮箱",trigger:"blur"},{validator:n,trigger:"blur"}]}]},option2:{column:[{label:"原密码",span:12,row:!0,type:"password",prop:"oldPassword"},{label:"新密码",span:12,row:!0,type:"password",prop:"newPassword",rules:[{required:!0,message:"请输入密码",trigger:"blur"},{validator:o["q"],trigger:"blur"}]},{label:"确认密码",span:12,row:!0,type:"password",prop:"newPassword1",rules:[{required:!0,message:"请输入确认密码",trigger:"blur"},{validator:e,trigger:"blur"}]}]},form1:{},form2:{}}},created:function(){this.type=this.taboption.column[0],this.handleWitch()},methods:{uploadBefore:function(t,e,i,n){Object(o["m"])(t,e,i,n)},handleChange:function(t){this.type=t,this.handleWitch()},handleSubmit1:function(t,e){var i=this;Object(s["updateInfo"])(t).then((function(t){t.data.success?i.$message({type:"success",message:"修改信息成功!"}):i.$message({type:"error",message:t.data.msg}),e()}),(function(t){window.console.log(t),e()}))},handleSubmit2:function(t,e){var i=this;Object(s["updatePassword"])(t.oldPassword,t.newPassword,t.newPassword1).then((function(t){t.data.success?(i.$message({type:"success",message:"修改密码成功!"}),i.$store.dispatch("LogOut").then((function(){Object(r["b"])(),i.$router.push({path:"/login"})}))):i.$message({type:"error",message:t.data.msg}),e()}),(function(t){window.console.log(t),e()}))},handleWitch:function(){var t=this;"tab1"===this.type.prop&&Object(s["getUserInfo"])().then((function(e){var i=e.data.data;t.form1={id:i.id,avatar:i.avatar,name:i.name,realName:i.realName,phone:i.phone,email:i.email}}))}}},l=c,h=i("2877"),d=Object(h["a"])(l,n,a,!1,null,null,null);e["default"]=d.exports},2224:function(t,e,i){"use strict";i("654d")},"27c9":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"scroll_table"},[i("div",{staticStyle:{display:"inline-block",width:"100%"}},[i("el-table",{staticClass:"table",attrs:{data:t.tableList}},t._l(t.columns,(function(t,e){return i("el-table-column",{key:e+"i",attrs:{label:t.label,prop:t.prop}})})),1),i("vue-seamless-scroll",{ref:"scroll",staticClass:"seamless-warp",staticStyle:{width:"100%"},attrs:{data:t.tableList,"class-option":t.classOption,classOption:{limitMoveNum:2}}},[i("el-table",{staticClass:"table_scroll",attrs:{data:t.tableList}},t._l(t.columns,(function(t,e){return i("el-table-column",{key:e+"i",attrs:{label:t.label,prop:t.prop}})})),1)],1)],1)])},a=[],s=i("a939"),o=i.n(s),r=i("0eb5"),c={name:"ScrollTable",components:{vueSeamlessScroll:o.a},data:function(){return{columns:[{prop:"dataName",label:"数据名称",minWidth:"100",sort:!0},{prop:"qxdshzs",label:"区县待审核（条）",minWidth:"180",sort:!0,align:"right"},{prop:"qxwtgzs",label:"区县审核未通过（条）",minWidth:"180",sort:!0,align:"right"},{prop:"dsdshzs",label:"地市待复审（条）",minWidth:"180",sort:!0,align:"right"},{prop:"dswtgzs",label:"地市复审未通过（条）",minWidth:"180",sort:!0,align:"right"},{prop:"tjTime",label:"统计时间",minWidth:"150",sort:!0}],tableList:[],isautoPlay:!0,timer:null}},computed:{classOption:function(){return{step:.8,limitMoveNum:2,hoverStop:!0,direction:1,openWatch:!0,singleHeight:0,singleWidth:0,waitTime:1e3,autoPlay:this.isautoPlay}}},methods:{getMessage:function(){var t=this;Object(r["getMessageList"])().then((function(e){0==e.data.data.length?t.isautoPlay=!1:t.tableList=e.data.data.slice(0,5)})).catch((function(){t.isautoPlay=!1}))}},mounted:function(){var t=this;this.getMessage(),this.timer=setInterval((function(e){t.getMessage()}),3e5)},beforeDestroy:function(){clearInterval(this.timer)}},l=c,h=(i("5916"),i("2877")),d=Object(h["a"])(l,n,a,!1,null,"37a5ba5a",null);e["default"]=d.exports},"2daa":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("basic-container",[n("div",{staticClass:"bt"},[n("img",{attrs:{src:i("ddfd"),alt:""},on:{click:function(e){return t.$emit("toReturn")}}}),n("span",{staticStyle:{color:"#244589",padding:"0 10px"}},[t._v("|")]),n("b",[t._v("消息提醒列表")])]),n("div",{staticClass:"message"},[n("avue-crud",{ref:"crud",attrs:{option:t.option,"table-loading":t.loading,data:t.data},on:{"on-load":t.onLoad,"refresh-change":t.refreshChange},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}})],1)])},a=[],s=i("0eb5"),o={data:function(){return{loading:!1,data:[],form:{},option:{searchIndex:3,searchIcon:!1,searchShowBtn:!1,highlightCurrentRow:!0,menuWidth:360,height:"auto",calcHeight:30,tip:!0,searchShow:!1,searchMenuSpan:6,searchLabelWidth:100,labelWidth:140,border:!0,stripe:!0,index:!0,indexLabel:"序号",cancelBtnText:"关闭",cancelBtnIcon:"el-icon-close",columnBtn:!1,selection:!1,addBtn:!1,viewBtn:!1,editBtn:!1,delBtn:!1,menu:!1,column:[{label:"数据名称",prop:"dataName"},{label:"区县待审核（条）",prop:"qxdshzs",align:"right"},{label:"区县审核未通过（条）",prop:"qxwtgzs",align:"right"},{label:"地市待复审（条）",prop:"dsdshzs",align:"right"},{label:"地市复审未通过（条）",prop:"dswtgzs",align:"right"},{label:"统计时间",prop:"tjTime",align:"center"}]}}},methods:{onLoad:function(){var t=this;this.loading=!0,Object(s["getMessageList"])().then((function(e){t.loading=!1,t.data=e.data.data}))},refreshChange:function(){this.onLoad()}}},r=o,c=(i("f4e3"),i("2877")),l=Object(c["a"])(r,n,a,!1,null,"62538c44",null);e["default"]=l.exports},"2e20":function(t,e,i){},"338a":function(t,e,i){"use strict";i("2e20")},"39ff":function(t,e,i){"use strict";i("ca4a")},"4b9f":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("basic-container",[i("div",{staticClass:"wel"},[i("basic-block",{attrs:{width:t.width,height:t.height,icon:"el-icon-platform-eleme",text:"开始菜单1",time:"1",background:"/img/bg/bg3.jpg",color:"#d56259"}}),i("basic-block",{attrs:{width:t.width,height:t.height,icon:"el-icon-eleme",text:"开始菜单2",time:"2",background:"/img/bg/bg2.jpg",color:"#419ce7"}}),i("basic-block",{attrs:{width:t.width,height:t.height,icon:"el-icon-delete-solid",text:"开始菜单3",time:"3",color:"#56b69b"}}),i("basic-block",{attrs:{width:t.width,height:t.height,icon:"el-icon-delete",text:"开始菜单4",time:"4",color:"#d44858"}}),i("basic-block",{attrs:{width:t.width,height:t.height,icon:"el-icon-s-tools",text:"开始菜单5",time:"5",color:"#3a1f7e"}}),i("basic-block",{attrs:{width:410,height:t.height,icon:"el-icon-setting",text:"开始菜单6",time:"6",background:"/img/bg/bg1.jpg",dept:"这是一段很长的很长很长很长的描述这是一段很长的很长很长很长的描述",color:"#422829"}}),i("basic-block",{attrs:{width:t.width,height:t.height,icon:"el-icon-user-solid",text:"开始菜单7",time:"7",color:"#613cbd"}}),i("basic-block",{attrs:{width:t.width,height:t.height,icon:"el-icon-star-off",text:"开始菜单8",time:"8",color:"#da542e"}}),i("basic-block",{attrs:{width:t.width,height:t.height,icon:"el-icon-goods",text:"开始菜单9",time:"9",color:"#2e8aef"}}),i("basic-block",{attrs:{width:t.width,height:t.height,icon:"el-icon-circle-check",text:"开始菜单10",time:"10",color:"#3d17b8"}}),i("basic-block",{attrs:{width:t.width,height:t.height,icon:"el-icon-s-platform",text:"开始菜单11",time:"11",color:"#e31462"}}),i("basic-block",{attrs:{width:t.width,height:t.height,icon:"el-icon-s-fold",text:"开始菜单12",time:"12",color:"#d9532d"}}),i("basic-block",{attrs:{width:410,height:t.height,icon:"el-icon-s-open",text:"开始菜单13",time:"13",dept:"这是一段很长的很长很长很长的描述这是一段很长的很长很长很长的描述",color:"#b72147"}}),i("basic-block",{attrs:{width:t.width,height:t.height,icon:"el-icon-s-flag",text:"开始菜单14",time:"14",color:"#01a100"}}),i("basic-block",{attrs:{width:t.width,height:t.height,icon:"el-icon-s-data",text:"开始菜单15",time:"15",color:"#0c56bf"}}),i("basic-block",{attrs:{width:t.width,height:t.height,icon:"el-icon-s-grid",text:"开始菜单16",time:"16",color:"#0098a9"}}),i("basic-block",{attrs:{width:t.width,height:t.height,icon:"el-icon-s-release",text:"开始菜单17",time:"17",background:"/img/bg/bg2.jpg",color:"#209bdf"}}),i("basic-block",{attrs:{width:t.width,height:t.height,icon:"el-icon-s-home",text:"开始菜单18",time:"18",background:"/img/bg/bg3.jpg",color:"#603bbc"}}),i("basic-block",{attrs:{width:515,height:t.height,icon:"el-icon-s-promotion",text:"开始菜单19",time:"19",dept:"这是一段很长的很长很长很长的描述这是一段很长的很长很长很长的描述",color:"#009bad"}}),i("basic-block",{attrs:{width:515,height:t.height,icon:"el-icon-s-custom",text:"开始菜单20",time:"20",background:"/img/bg/bg4.jpg",dept:"这是一段很长的很长很长很长的描述这是一段很长的很长很长很长的描述",color:"#d74e2a"}})],1)])},a=[],s={data:function(){return{width:200,height:120}}},o=s,r=(i("338a"),i("2877")),c=Object(r["a"])(o,n,a,!1,null,null,null);e["default"]=c.exports},"4e3c":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.messageShow||t.shqkhzShow?t._e():n("div",[n("div",{staticClass:"margin-tb10"},[n("el-row",{staticClass:"top qygk",attrs:{type:"flex",justify:"space-between"}},t._l(t.qygkArr,(function(e,i){return n("el-col",{key:i,style:{background:"url("+t.backgrounds[i]+")","background-position":"center","background-size":"100% 100%"},attrs:{span:4}},[n("div",{staticClass:"qygk-content"},[n("span",{staticClass:"qygk-title"},[t._v(t._s(e.dataName))]),n("span",{staticClass:"sum"},[t._v(t._s(e.tjzs))])])])})),1)],1),n("div",{staticClass:"margin-tb10 h20 message-content"},[n("div",{staticClass:"message"},[t._m(0),n("span",{staticClass:"more",on:{click:t.handleMore}},[t._v("更多>>")])]),n("basic-container",{staticClass:"message-table"},[n("messageScroll")],1)],1),n("div",{staticClass:"margin-tb10"},[n("el-row",[n("el-col",{attrs:{span:12}},[n("div",{staticClass:"message"},[n("span",{staticClass:"message-title"},[n("b",[t._v("审核情况汇总统计")])]),n("span",{staticClass:"dw"},[t._v("单位：条")])]),n("basic-container",[n("el-row",{staticClass:"top shqk",attrs:{type:"flex",align:"middle"}},[n("el-col",{attrs:{span:6}},[n("el-row",{staticClass:"tjzl"},[n("img",{attrs:{src:i("56f1"),alt:""}}),n("div",{staticClass:"shqk-content"},[n("span",{staticClass:"shqk-title"},[t._v("提交总量")]),n("span",{staticClass:"sum"},[t._v(t._s(t.tjzs))])]),n("img",{attrs:{src:i("b1f1"),alt:""}})])],1),n("el-col",{attrs:{span:18}},[n("el-row",{staticClass:"shqk-right",attrs:{type:"flex",justify:"space-between"}},t._l(t.sjhzArr,(function(e,a){return n("el-col",{key:a,staticClass:"item",attrs:{span:8}},[n("span",{staticClass:"shqk-right-title"},[t._v(t._s(e.title))]),n("span",{class:t.setStyleColor(e.title)},[t._v(t._s(e.sum))]),n("img",{attrs:{src:i("b1f1"),alt:""}})])})),1)],1)],1),n("bar-chart",{attrs:{data:t.barData,dataX:t.barX,legend:t.legend},on:{fn:t.getShqk}})],1)],1),n("el-col",{attrs:{span:12}},[n("div",{staticClass:"message"},[n("span",{staticClass:"message-title"},[n("b",[t._v("数据类型占比分析")])]),n("span",{staticClass:"dw"},[t._v("单位：条")])]),n("basic-container",[n("pie-chart",{attrs:{tjzs:t.tjzs,data:t.zbfxData}})],1)],1)],1)],1)]),t.messageShow?n("messageList",{on:{toReturn:function(e){return t.toReturn("message")}}}):t._e(),t.shqkhzShow?n("shqkhzlist",{on:{toReturn:function(e){return t.toReturn("hz")}}}):t._e()],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"message-title"},[i("b",[t._v("消息提醒")])])}],s=(i("7f7f"),i("ac6a"),i("0eb5")),o=i("27c9"),r=i("2daa"),c=i("f764"),l=i("d6d6"),h=i("7309"),d={components:{messageScroll:o["default"],messageList:r["default"],shqkhzlist:c["default"],barChart:l["default"],pieChart:h["default"]},data:function(){return{qygkArr:[{tjzs:0,dataName:"厂站"},{tjzs:0,dataName:"设备设施"},{tjzs:0,dataName:"从业人员"},{tjzs:0,dataName:"用户"},{tjzs:0,dataName:"车辆"}],backgrounds:[i("b53f"),i("c9e4"),i("ed41"),i("ee33"),i("e910")],messageShow:!1,sjhzArr:[{sum:0,title:"区县待审核"},{sum:0,title:"区县审核通过"},{sum:0,title:"区县审核未通过"},{sum:0,title:"地市待复审"},{sum:0,title:"地市复审通过"},{sum:0,title:"地市复审未通过"}],shqkhzShow:!1,tjzs:0,pieData:[],show:!1,tabIndex:1,formData:[{title:"类型统计",id:1},{title:"地区统计",id:2}],legend:["区县待审核","区县审核通过","区县审核未通过","地市待复审","地市复审通过","地市复审未通过"],tjData:[],lxtjData:[],lxtjX:[],dqtjData:[],dqtjX:[],barData:[],barX:[],xzqhCode:"",zbfxData:[]}},computed:{},mounted:function(){this.getShTj(),this.getQygk()},methods:{getQygk:function(){var t=this;Object(s["getTjList"])().then((function(e){var i=e.data.data;i.forEach((function(e){t.qygkArr.forEach((function(t){e.dataName==t.dataName&&(t.tjzs=e.tjzs)}))}))}))},handleMore:function(){this.messageShow=!0},toReturn:function(t){"message"==t?this.messageShow=!1:this.shqkhzShow=!1},getShqk:function(t){var e=this;"未知企业"!=t.name&&(2==this.tabIndex?0!=this.tjData.length&&0!=this.tjData.dqtj.length&&this.tjData.dqtj.forEach((function(i){if(i.groupName==t.name)return e.xzqhCode=i.zcdXzq,e.xzqhCode})):this.xzqhCode="",this.shqkhzShow=!0)},setStyleColor:function(t){var e={"区县待审核":"3E85E3","区县审核通过":"61BDD9","区县审核未通过":"EF8351","地市待复审":"3E85E3","地市复审通过":"61BDD9","地市复审未通过":"EF8351"};return"status status-".concat(e[t])},getShTj:function(){var t=this;Object(s["getTj"])().then((function(e){var i=e.data.data;t.tjData=i,t.getConvertData(i),t.tjzs=i.tjzs||0,t.sjhzArr=[{sum:i.qxdshzs||0,title:"区县待审核"},{sum:i.qxtgzs||0,title:"区县审核通过"},{sum:i.qxwtgzs||0,title:"区县审核未通过"},{sum:i.dsdshzs||0,title:"地市待复审"},{sum:i.dstgzs||0,title:"地市复审通过"},{sum:i.dswtgzs||0,title:"地市复审未通过"}],t.zbfxData=i.zbfx}))},getConvertData:function(t){this.lxtjData=[],this.dqtjData=[];var e={qxdshzs:"区县待审核",qxtgzs:"区县审核通过",qxwtgzs:"区县审核未通过",dsdshzs:"地市待复审",dstgzs:"地市复审通过",dswtgzs:"地市复审未通过"},i={};if(0!=t.lxtj.length)for(var n in this.lxtjX=this.getAttrs(t.lxtj,"groupName"),e)i={name:e[n],type:"bar",stack:"Search Engine",barWidth:25,barGap:0,emphasis:{focus:"series"},data:this.getAttrs(t.lxtj,n)},this.lxtjData.push(i);if(0!=t.dqtj.length)for(var a in this.dqtjX=this.getAttrs(t.dqtj,"groupName"),e)i={name:e[a],type:"bar",stack:"Search Engine",barWidth:25,barGap:0,emphasis:{focus:"series"},data:this.getAttrs(t.dqtj,a)},this.dqtjData.push(i);1==this.tabIndex?(this.barData=this.lxtjData,this.barX=this.lxtjX):(this.barData=this.dqtjData,this.barX=this.dqtjX)},getAttrs:function(t,e){var i=t.map((function(t){return t[e]}));return i}}},u=d,f=(i("2224"),i("2877")),p=Object(f["a"])(u,n,a,!1,null,"48a49a34",null);e["default"]=p.exports},"56f1":function(t,e,i){t.exports=i.p+"img/gzt-tjzl.c118b415.png"},5916:function(t,e,i){"use strict";i("5d2c")},"5d2c":function(t,e,i){},6486:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("basic-container",[i("el-row",[i("el-col",{attrs:{span:12}},[i("avue-crud",{ref:"crud",attrs:{option:t.option,"table-loading":t.loading,data:t.dataParent,page:t.pageParent,permission:t.permissionList,"before-open":t.beforeOpen},on:{"row-del":t.rowDel,"row-update":t.rowUpdate,"row-save":t.rowSave,"row-click":t.handleRowClick,"search-change":t.searchChange,"search-reset":t.searchReset,"selection-change":t.selectionChange,"current-change":t.currentChange,"size-change":t.sizeChange,"refresh-change":t.refreshChange,"on-load":t.onLoadParent},scopedSlots:t._u([{key:"isSealed",fn:function(e){var n=e.row;return[i("el-tag",[t._v(t._s(0===n.isSealed?"否":"是"))])]}}]),model:{value:t.formParent,callback:function(e){t.formParent=e},expression:"formParent"}},[i("template",{slot:"menuLeft"},[t.permission.dict_delete?i("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:t.handleDelete}},[t._v("删 除\n            ")]):t._e()],1)],2)],1),i("el-col",{attrs:{span:12}},[i("avue-crud",{ref:"crudChild",attrs:{option:t.option,"table-loading":t.loading,data:t.dataChild,page:t.pageChild,permission:t.permissionList,"before-open":t.beforeOpenChild},on:{"row-del":t.rowDelChild,"row-update":t.rowUpdateChild,"row-save":t.rowSaveChild,"search-change":t.searchChangeChild,"search-reset":t.searchResetChild,"selection-change":t.selectionChangeChild,"current-change":t.currentChangeChild,"size-change":t.sizeChangeChild,"refresh-change":t.refreshChangeChild,"on-load":t.onLoadChild},scopedSlots:t._u([{key:"isSealed",fn:function(e){var n=e.row;return[i("el-tag",[t._v(t._s(0===n.isSealed?"否":"是"))])]}}]),model:{value:t.formChild,callback:function(e){t.formChild=e},expression:"formChild"}},[i("template",{slot:"menuLeft"},[t.permission.dict_delete?i("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:t.handleDelete}},[t._v("删 除\n            ")]):t._e()],1)],2)],1)],1)],1)],1)},a=[],s=(i("8e6e"),i("456d"),i("6762"),i("2fdb"),i("ac6a"),i("bd86")),o=i("7754"),r=i("5880");function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var h={data:function(){return{parentId:0,formParent:{},formChild:{},selectionList:[],query:{},loading:!0,pageParent:{pageSize:20,pageSizes:[10,30,50,100,200],currentPage:1,total:0},pageChild:{pageSize:20,pageSizes:[10,30,50,100,200],currentPage:1,total:0},dataParent:[],dataChild:[],option:{tip:!1,searchShow:!0,searchMenuSpan:6,tree:!0,border:!0,index:!0,selection:!0,viewBtn:!0,menuWidth:300,dialogWidth:880,column:[{label:"字典编号",prop:"code",search:!0,span:24,rules:[{required:!0,message:"请输入字典编号",trigger:"blur"}]},{label:"字典键值",prop:"dictKey",type:"number",rules:[{required:!0,message:"请输入字典键值",trigger:"blur"}]},{label:"字典名称",prop:"dictValue",search:!0,align:"center",rules:[{required:!0,message:"请输入字典名称",trigger:"blur"}]},{label:"字典排序",prop:"sort",type:"number",rules:[{required:!0,message:"请输入字典排序",trigger:"blur"}]},{label:"封存",prop:"isSealed",type:"select",dicData:[{label:"否",value:0},{label:"是",value:1}],slot:!0,rules:[{required:!0,message:"请选择封存",trigger:"blur"}]},{label:"字典备注",prop:"remark",search:!0,hide:!0}]}}},computed:l(l({},Object(r["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.dict_add,!1),viewBtn:this.vaildData(this.permission.dict_view,!1),delBtn:this.vaildData(this.permission.dict_delete,!1),editBtn:this.vaildData(this.permission.dict_edit,!1)}},ids:function(){var t=[];return this.selectionList.forEach((function(e){t.push(e.id)})),t.join(",")}}),methods:{rowSave:function(t,e,i){var n=this;Object(o["add"])(t).then((function(){n.onLoadParent(n.pageParent),n.$message({type:"success",message:"操作成功!"}),e()}),(function(t){window.console.log(t),i()}))},rowUpdate:function(t,e,i,n){var a=this;Object(o["update"])(t).then((function(){a.onLoadParent(a.pageParent),a.$message({type:"success",message:"操作成功!"}),i()}),(function(t){window.console.log(t),n()}))},rowDel:function(t){var e=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["remove"])(t.id)})).then((function(){e.onLoadParent(e.pageParent),e.$message({type:"success",message:"操作成功!"})}))},handleRowClick:function(t){this.parentId=t.id,this.onLoadChild(this.pageChild)},searchReset:function(){this.query={},this.onLoadParent(this.pageParent)},searchChange:function(t,e){this.query=t,this.pageParent.currentPage=1,this.onLoadParent(this.pageParent,t),e()},selectionChange:function(t){this.selectionList=t},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},handleDelete:function(){var t=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["remove"])(t.ids)})).then((function(){t.onLoadParent(t.pageParent),t.$message({type:"success",message:"操作成功!"}),t.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpen:function(t,e){var i=this;["edit","view"].includes(e)&&Object(o["getDict"])(this.formParent.id).then((function(t){i.formParent=t.data.data})),t()},currentChange:function(t){this.pageParent.currentPage=t},sizeChange:function(t){this.pageParent.pageSize=t},refreshChange:function(){this.onLoadParent(this.page,this.query)},rowSaveChild:function(t,e,i){var n=this;Object(o["add"])(t).then((function(){n.onLoadChild(n.pageChild),n.$message({type:"success",message:"操作成功!"}),e()}),(function(t){window.console.log(t),i()}))},rowUpdateChild:function(t,e,i,n){var a=this;Object(o["update"])(t).then((function(){a.onLoadChild(a.pageChild),a.$message({type:"success",message:"操作成功!"}),i()}),(function(t){window.console.log(t),n()}))},rowDelChild:function(t){var e=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["remove"])(t.id)})).then((function(){e.onLoadChild(e.pageChild),e.$message({type:"success",message:"操作成功!"})}))},searchResetChild:function(){this.query={},this.onLoadChild(this.pageChild)},searchChangeChild:function(t,e){this.query=t,this.pageChild.currentPage=1,this.onLoadChild(this.pageChild,t),e()},selectionChangeChild:function(t){this.selectionList=t},selectionClearChild:function(){this.selectionList=[],this.$refs.crudChild.toggleSelection()},handleDeleteChild:function(){var t=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["remove"])(t.ids)})).then((function(){t.onLoadChild(t.pageChild),t.$message({type:"success",message:"操作成功!"}),t.$refs.crudChild.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpenChild:function(t,e){var i=this;["edit","view"].includes(e)&&Object(o["getDict"])(this.formChild.id).then((function(t){i.formChild=t.data.data})),t()},currentChangeChild:function(t){this.pageChild.currentPage=t},sizeChangeChild:function(t){this.pageChild.pageSize=t},refreshChangeChild:function(){this.onLoadChild(this.pageChild,this.query)},onLoadParent:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["getParentList"])(t.currentPage,t.pageSize,Object.assign(i,this.query)).then((function(t){var i=t.data.data;e.pageParent.total=i.total,e.dataParent=i.records,e.loading=!1,e.selectionClear()}))},onLoadChild:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["getChildList"])(t.currentPage,t.pageSize,this.parentId,Object.assign(i,this.query)).then((function(t){var i=t.data.data;e.pageChild.total=i.total,e.dataChild=i.records,e.loading=!1,e.selectionClear()}))}}},d=h,u=i("2877"),f=Object(u["a"])(d,n,a,!1,null,null,null);e["default"]=f.exports},"654d":function(t,e,i){},"6e96":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("basic-container",[i("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px"}},[i("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"end"}},[i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:t.handleAgree}},[t._v("同意")]),i("el-button",{attrs:{type:"danger"},on:{click:t.handleDisagree}},[t._v("驳回")]),i("el-button",{on:{click:t.handleCancel}},[t._v("关闭")])],1)],1),i("el-card",{attrs:{shadow:"hover"}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("span",[t._v("审批信息")])]),i("el-form-item",{attrs:{label:"申请人"}},[i("el-input",{attrs:{disabled:!0},model:{value:t.form.flow.assigneeName,callback:function(e){t.$set(t.form.flow,"assigneeName",e)},expression:"form.flow.assigneeName"}})],1),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"开始时间"}},[i("el-input",{attrs:{disabled:!0},model:{value:t.form.startTime,callback:function(e){t.$set(t.form,"startTime",e)},expression:"form.startTime"}})],1)],1),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"结束时间"}},[i("el-input",{attrs:{disabled:!0},model:{value:t.form.endTime,callback:function(e){t.$set(t.form,"endTime",e)},expression:"form.endTime"}})],1)],1)],1),i("el-form-item",{attrs:{label:"请假理由"}},[i("el-input",{attrs:{disabled:!0,type:"textarea"},model:{value:t.form.reason,callback:function(e){t.$set(t.form,"reason",e)},expression:"form.reason"}})],1),i("el-form-item",{attrs:{label:"批复意见"}},[i("el-input",{attrs:{type:"textarea"},model:{value:t.form.comment,callback:function(e){t.$set(t.form,"comment",e)},expression:"form.comment"}})],1)],1),i("el-card",{attrs:{shadow:"hover"}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("span",[t._v("流程信息")])]),i("el-row",{staticClass:"row-bg",attrs:{type:"flex"}},[i("el-timeline",t._l(t.flowList,(function(e){return i("el-timeline-item",{key:e.id,attrs:{timestamp:e.createTime,placement:"top"}},[i("el-card",{attrs:{shadow:"hover"}},[i("p",[t._v(t._s(e.assigneeName)+" 在 ["+t._s(e.createTime)+"] 开始处理 ["+t._s(e.historyActivityName)+"] 环节")]),""!==e.historyActivityDurationTime?i("p",[t._v("任务历时 ["+t._s(e.historyActivityDurationTime)+"]")]):t._e(),""!==e.comment?i("p",[t._v("批复意见: ["+t._s(e.comment)+"]")]):t._e(),""!==e.endTime?i("p",[t._v("结束时间: ["+t._s(e.endTime)+"]")]):t._e()])],1)})),1)],1)],1),i("el-card",{attrs:{shadow:"hover"}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("span",[t._v("流程跟踪")])]),i("el-row",{staticClass:"row-bg"},[i("flow-design",{attrs:{"is-display":!0,"process-instance-id":t.processInstanceId}})],1)],1)],1)],1)},a=[],s=i("fc8c"),o=i("1e69"),r={data:function(){return{taskId:"",businessId:"",processInstanceId:"",src:"",flowList:[],form:{flow:{assigneeName:""},startTime:"",endTime:"",reason:"",comment:""}}},created:function(){this.init()},beforeRouteUpdate:function(t,e,i){t.fullPath!==e.fullPath&&(i(),this.init())},methods:{init:function(){var t=this;this.taskId=this.$route.params.taskId,this.processInstanceId=this.$route.params.processInstanceId,this.businessId=this.$route.params.businessId,Object(s["historyFlowList"])(this.processInstanceId).then((function(e){var i=e.data;i.success&&(t.flowList=i.data)})),Object(s["leaveDetail"])(this.businessId).then((function(e){var i=e.data;i.success&&(t.form=i.data)}))},handleAgree:function(){var t=this;if(this.form.comment){var e={taskId:this.taskId,processInstanceId:this.processInstanceId,flag:"ok",comment:this.form.comment};Object(o["completeTask"])(e).then((function(e){var i=e.data;i.success?(t.$message.success(i.msg),t.$router.$avueRouter.closeTag(),t.$router.push({path:"/work/start"})):t.$message.error(i.msg||"提交失败")}))}else this.$message.warning("请先填写批复意见")},handleDisagree:function(){var t=this;if(this.form.comment){var e={taskId:this.taskId,processInstanceId:this.processInstanceId,comment:this.form.comment};Object(o["completeTask"])(e).then((function(e){var i=e.data;i.success?(t.$message.success(i.msg),t.$router.$avueRouter.closeTag(),t.$router.push({path:"/work/start"})):t.$message.error(i.msg||"提交失败")}))}else this.$message.warning("请先填写批复意见")},handleCancel:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/work/start"})}}},c=r,l=i("2877"),h=Object(l["a"])(c,n,a,!1,null,null,null);e["default"]=h.exports},7309:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{style:{height:t.height,width:t.width}})},a=[],s=i("0e0b"),o={name:"",props:{width:{type:String,default:"100%"},height:{type:String,default:"500px"},tjzs:{type:String,default:"0"},data:{type:Array,default:function(){return[]}},dataX:{type:Array,default:function(){return[]}},fn:{type:Function,default:function(){}}},data:function(){return{charts:""}},watch:{data:function(){this.initChart()}},activated:function(){this.__resizeHandler()},mounted:function(){var t=this;this.initChart(),this.__resizeHandler=Object(s["a"])((function(){t.charts&&t.charts.resize()}),100),window.addEventListener("resize",this.__resizeHandler)},beforeDestroy:function(){this.charts&&(window.removeEventListener("resize",this.__resizeHandler),this.charts.dispose(),this.charts=null)},methods:{initChart:function(){var t=this;this.charts=this.$echarts.init(this.$el);var e={title:{zlevel:0,text:["{value|"+this.tjzs+"}","{name|数据总量}"].join("\n"),top:"35%",left:"center",textStyle:{rich:{value:{color:"#383838",fontSize:35,fontWeight:"bold",lineHeight:35},unit:{color:"#999999",fontSize:12,lineHeight:20},name:{color:"#333333",fontSize:12,fontWeight:"bold"}}}},tooltip:{trigger:"item"},legend:{orient:"horizontal",bottom:"5%",icon:"circle",align:"left",itemGap:10},series:[{type:"pie",radius:["50%","60%"],center:["50%","40%"],label:{show:!0,formatter:"{c}",textStyle:{fontSize:16,color:"#333"}},labelLine:{normal:{show:!0},lineStyle:{width:2,type:"solid"}},data:this.data}]};this.charts.setOption(e),this.charts.off("click"),this.charts.on("click",(function(e){t.$emit("fn",e)}))}}},r=o,c=i("2877"),l=Object(c["a"])(r,n,a,!1,null,"03960953",null);e["default"]=l.exports},9191:function(t,e,i){"use strict";i("dcff")},"92c9":function(t,e,i){},a939:function(t,e,i){!function(e,i){t.exports=i()}("undefined"!=typeof self&&self,(function(){return function(t){function e(n){if(i[n])return i[n].exports;var a=i[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(4)();var n=i(5),a=i(6);e.default={name:"vue-seamless-scroll",data:function(){return{xPos:0,yPos:0,delay:0,copyHtml:"",height:0,width:0,realBoxWidth:0}},props:{data:{type:Array,default:function(){return[]}},classOption:{type:Object,default:function(){return{}}}},computed:{leftSwitchState:function(){return this.xPos<0},rightSwitchState:function(){return Math.abs(this.xPos)<this.realBoxWidth-this.width},leftSwitchClass:function(){return this.leftSwitchState?"":this.options.switchDisabledClass},rightSwitchClass:function(){return this.rightSwitchState?"":this.options.switchDisabledClass},leftSwitch:function(){return{position:"absolute",margin:this.height/2+"px 0 0 -"+this.options.switchOffset+"px",transform:"translate(-100%,-50%)"}},rightSwitch:function(){return{position:"absolute",margin:this.height/2+"px 0 0 "+(this.width+this.options.switchOffset)+"px",transform:"translateY(-50%)"}},float:function(){return this.isHorizontal?{float:"left",overflow:"hidden"}:{overflow:"hidden"}},pos:function(){return{transform:"translate("+this.xPos+"px,"+this.yPos+"px)",transition:"all "+this.ease+" "+this.delay+"ms",overflow:"hidden"}},defaultOption:function(){return{step:1,limitMoveNum:5,hoverStop:!0,direction:1,openTouch:!0,singleHeight:0,singleWidth:0,waitTime:1e3,switchOffset:30,autoPlay:!0,navigation:!1,switchSingleStep:134,switchDelay:400,switchDisabledClass:"disabled",isSingleRemUnit:!1}},options:function(){return a({},this.defaultOption,this.classOption)},navigation:function(){return this.options.navigation},autoPlay:function(){return!this.navigation&&this.options.autoPlay},scrollSwitch:function(){return this.data.length>=this.options.limitMoveNum},hoverStopSwitch:function(){return this.options.hoverStop&&this.autoPlay&&this.scrollSwitch},canTouchScroll:function(){return this.options.openTouch},isHorizontal:function(){return this.options.direction>1},baseFontSize:function(){return this.options.isSingleRemUnit?parseInt(window.getComputedStyle(document.documentElement,null).fontSize):1},realSingleStopWidth:function(){return this.options.singleWidth*this.baseFontSize},realSingleStopHeight:function(){return this.options.singleHeight*this.baseFontSize},step:function(){var t=this.options.step;return this.isHorizontal?this.realSingleStopWidth:this.realSingleStopHeight,t}},methods:{reset:function(){this._cancle(),this._initMove()},leftSwitchClick:function(){if(this.leftSwitchState)return Math.abs(this.xPos)<this.options.switchSingleStep?void(this.xPos=0):void(this.xPos+=this.options.switchSingleStep)},rightSwitchClick:function(){if(this.rightSwitchState)return this.realBoxWidth-this.width+this.xPos<this.options.switchSingleStep?void(this.xPos=this.width-this.realBoxWidth):void(this.xPos-=this.options.switchSingleStep)},_cancle:function(){cancelAnimationFrame(this.reqFrame||"")},touchStart:function(t){var e=this;if(this.canTouchScroll){var i=void 0,n=t.targetTouches[0],a=this.options,s=a.waitTime,o=a.singleHeight,r=a.singleWidth;this.startPos={x:n.pageX,y:n.pageY},this.startPosY=this.yPos,this.startPosX=this.xPos,o&&r?(i&&clearTimeout(i),i=setTimeout((function(){e._cancle()}),s+20)):this._cancle()}},touchMove:function(t){if(!(!this.canTouchScroll||t.targetTouches.length>1||t.scale&&1!==t.scale)){var e=t.targetTouches[0],i=this.options.direction;this.endPos={x:e.pageX-this.startPos.x,y:e.pageY-this.startPos.y},event.preventDefault();var n=Math.abs(this.endPos.x)<Math.abs(this.endPos.y)?1:0;1===n&&i<2?this.yPos=this.startPosY+this.endPos.y:0===n&&i>1&&(this.xPos=this.startPosX+this.endPos.x)}},touchEnd:function(){var t=this;if(this.canTouchScroll){var e=void 0,i=this.options.direction;if(this.delay=50,1===i)this.yPos>0&&(this.yPos=0);else if(0===i){var n=this.realBoxHeight/2*-1;this.yPos<n&&(this.yPos=n)}else if(2===i)this.xPos>0&&(this.xPos=0);else if(3===i){var a=-1*this.realBoxWidth;this.xPos<a&&(this.xPos=a)}e&&clearTimeout(e),e=setTimeout((function(){t.delay=0,t._move()}),this.delay)}},enter:function(){this.hoverStopSwitch&&this._stopMove()},leave:function(){this.hoverStopSwitch&&this._startMove()},_move:function(){this.isHover||(this._cancle(),this.reqFrame=requestAnimationFrame(function(){var t=this,e=this.realBoxHeight/2,i=this.realBoxWidth/2,n=this.options,a=n.direction,s=n.waitTime,o=this.step;1===a?(Math.abs(this.yPos)>=e&&(this.$emit("ScrollEnd"),this.yPos=0),this.yPos-=o):0===a?(this.yPos>=0&&(this.$emit("ScrollEnd"),this.yPos=-1*e),this.yPos+=o):2===a?(Math.abs(this.xPos)>=i&&(this.$emit("ScrollEnd"),this.xPos=0),this.xPos-=o):3===a&&(this.xPos>=0&&(this.$emit("ScrollEnd"),this.xPos=-1*i),this.xPos+=o),this.singleWaitTime&&clearTimeout(this.singleWaitTime),this.realSingleStopHeight?Math.abs(this.yPos)%this.realSingleStopHeight<o?this.singleWaitTime=setTimeout((function(){t._move()}),s):this._move():this.realSingleStopWidth&&Math.abs(this.xPos)%this.realSingleStopWidth<o?this.singleWaitTime=setTimeout((function(){t._move()}),s):this._move()}.bind(this)))},_initMove:function(){var t=this;this.$nextTick((function(){var e=t.options.switchDelay,i=t.autoPlay,n=t.isHorizontal;if(t._dataWarm(t.data),t.copyHtml="",n){t.height=t.$refs.wrap.offsetHeight,t.width=t.$refs.wrap.offsetWidth;var a=t.$refs.slotList.offsetWidth;i&&(a=2*a+1),t.$refs.realBox.style.width=a+"px",t.realBoxWidth=a}if(!i)return t.ease="linear",void(t.delay=e);t.ease="ease-in",t.delay=0,t.scrollSwitch?(t.copyHtml=t.$refs.slotList.innerHTML,setTimeout((function(){t.realBoxHeight=t.$refs.realBox.offsetHeight,t._move()}),0)):(t._cancle(),t.yPos=t.xPos=0)}))},_dataWarm:function(t){t.length},_startMove:function(){this.isHover=!1,this._move()},_stopMove:function(){this.isHover=!0,this.singleWaitTime&&clearTimeout(this.singleWaitTime),this._cancle()}},mounted:function(){this._initMove()},watch:{data:function(t,e){this._dataWarm(t),n(t,e)||this.reset()},autoPlay:function(t){t?this.reset():this._stopMove()}},beforeCreate:function(){this.reqFrame=null,this.singleWaitTime=null,this.isHover=!1,this.ease="ease-in"},beforeDestroy:function(){this._cancle(),clearTimeout(this.singleWaitTime)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),a=function(t){return t&&t.__esModule?t:{default:t}}(n);a.default.install=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.component(e.componentName||a.default.name,a.default)},"undefined"!=typeof window&&window.Vue&&Vue.component(a.default.name,a.default),e.default=a.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);var o=i(7),r=i(3),c=r(a.a,o.a,!1,null,null,null);e.default=c.exports},function(t,e){t.exports=function(t,e,i,n,a,s){var o,r=t=t||{},c=typeof t.default;"object"!==c&&"function"!==c||(o=t,r=t.default);var l,h="function"==typeof r?r.options:r;if(e&&(h.render=e.render,h.staticRenderFns=e.staticRenderFns,h._compiled=!0),i&&(h.functional=!0),a&&(h._scopeId=a),s?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},h._ssrRegister=l):n&&(l=n),l){var d=h.functional,u=d?h.render:h.beforeCreate;d?(h._injectStyles=l,h.render=function(t,e){return l.call(e),u(t,e)}):h.beforeCreate=u?[].concat(u,l):[l]}return{esModule:o,exports:r,options:h}}},function(t,e){var i=function(){window.cancelAnimationFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t)}}(),window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}()};t.exports=i},function(t,e){var i=function(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0};t.exports=i},function(t,e){function i(){Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var t=void 0,e=void 0,a=void 0,s=void 0,o=void 0,r=void 0,c=1,l=arguments[0]||{},h=!1,d=arguments.length;if("boolean"==typeof l&&(h=l,l=arguments[1]||{},c++),"object"!==(void 0===l?"undefined":n(l))&&"function"!=typeof l&&(l={}),c===d)return l;for(;c<d;c++)if(null!=(e=arguments[c]))for(t in e)a=l[t],s=e[t],o=Array.isArray(s),h&&s&&("object"===(void 0===s?"undefined":n(s))||o)?(o?(o=!1,r=a&&Array.isArray(a)?a:[]):r=a&&"object"===(void 0===a?"undefined":n(a))?a:{},l[t]=i(h,r,s)):void 0!==s&&(l[t]=s);return l}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=i},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"wrap"},[t.navigation?i("div",{class:t.leftSwitchClass,style:t.leftSwitch,on:{click:t.leftSwitchClick}},[t._t("left-switch")],2):t._e(),t._v(" "),t.navigation?i("div",{class:t.rightSwitchClass,style:t.rightSwitch,on:{click:t.rightSwitchClick}},[t._t("right-switch")],2):t._e(),t._v(" "),i("div",{ref:"realBox",style:t.pos,on:{mouseenter:t.enter,mouseleave:t.leave,touchstart:t.touchStart,touchmove:t.touchMove,touchend:t.touchEnd}},[i("div",{ref:"slotList",style:t.float},[t._t("default")],2),t._v(" "),i("div",{style:t.float,domProps:{innerHTML:t._s(t.copyHtml)}})])])},a=[],s={render:n,staticRenderFns:a};e.a=s}]).default}))},ab5c:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("basic-container",[t._v("测试页")])],1)},a=[],s={name:"wel",data:function(){return{}},computed:{},created:function(){},methods:{}},o=s,r=i("2877"),c=Object(r["a"])(o,n,a,!1,null,"1f96fafa",null);e["default"]=c.exports},b1f1:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAAoCAYAAADUgSt0AAAAAXNSR0IArs4c6QAAABdJREFUKFNj/Pjp238+Xk4GxlEGLQMBAFybn4kuRK4SAAAAAElFTkSuQmCC"},b53f:function(t,e,i){t.exports=i.p+"img/gzt-cz.36224684.png"},ba17:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("basic-container",[i("avue-crud",{ref:"crud",attrs:{option:t.option,"table-loading":t.loading,data:t.data,page:t.page,permission:t.permissionList,"before-open":t.beforeOpen,"row-style":t.tableRowClassName},on:{"update:page":function(e){t.page=e},"search-change":t.searchChange,"search-reset":t.searchReset,"refresh-change":t.refreshChange,"current-change":t.currentChange,"size-change":t.sizeChange,"on-load":t.onLoad,"selection-change":t.selectionChange},scopedSlots:t._u([{key:"sfyd",fn:function(t){var e=t.row;return[1===e.zt?i("span",{staticClass:"circle red"}):i("span",{staticClass:"circle grey"})]}},{key:"menuLeft",fn:function(e){e.size;return[i("el-tabs",{on:{"tab-click":t.changetabs},model:{value:t.tabs.activeName,callback:function(e){t.$set(t.tabs,"activeName",e)},expression:"tabs.activeName"}},t._l(t.tabs.data,(function(e){return i("el-tab-pane",{key:e.id,attrs:{label:e.label,name:e.value,disabled:t.loading}})})),1)]}},{key:"menuRight",fn:function(e){var n=e.size;return[i("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:n},on:{click:t.biaojiyidu}},[t._v("标记为已读")]),i("el-button",{attrs:{type:"primary",plain:"",size:n},on:{click:t.qianbuyidu}},[t._v("全部已读")])]}},{key:"menu",fn:function(e){var n=e.row,a=e.size,s=e.type;return[i("el-button",{attrs:{size:a,type:s,icon:"el-icon-document-checked"},on:{click:function(e){return t.handleClick(n)}}},[t._v("查看")])]}}]),model:{value:t.form,callback:function(e){t.form=e},expression:"form"}}),i("el-dialog",{attrs:{visible:t.dialogVisible,"append-to-body":"","destroy-on-close":"",title:"消息内容",width:"70%","custom-class":"flow-design-dialog"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("div",[t._v(t._s(t.message))])])],1)},a=[],s=(i("7f7f"),i("ac6a"),i("467e")),o={data:function(){return{dialogVisible:!1,selectionList:[],tabs:{activeName:0,data:[{label:"消息",value:0},{label:"通知",value:1}]},form:{},query:{},loading:!0,page:{pageSize:20,currentPage:1,total:0},data:[],tempArr:[],message:""}},computed:{ids:function(){var t=[];return this.selectionList.forEach((function(e){t.push(e.id)})),t.join(",")},option:function(){return{height:"auto",searchShowBtn:!1,highlightCurrentRow:!0,tip:!1,searchMenuSpan:6,menu:!0,border:!0,stripe:!0,selection:!0,addBtn:!1,viewBtn:!1,editBtn:!1,delBtn:!1,refreshBtn:!1,columnBtn:!1,dialogClickModal:!1,column:[{label:"是否已读",prop:"sfyd",align:"center",width:60},{label:"通知单位",prop:"xzqhmc",overHidden:!0,maxlength:30},{label:"消息类型",prop:"xxlx",type:"select",multiple:!1,search:!0,dicUrl:"/api/blade-system/dict/dictionary?code=ZNXGL_ZNXLX",props:{label:"dictValue",value:"dictKey"},dataType:"string",overHidden:!0,width:180},{label:"消息内容",prop:"xxnr",overHidden:!0,maxlength:30},{label:"接收时间",prop:"tzsj",overHidden:!0,maxlength:30}]}}},mounted:function(){document.querySelector(".avue-crud__right").style.display="block"},methods:{toExport:function(){},handleClick:function(t){var e=this;Object(s["getBjyd"])(t.id).then((function(){e.dialogVisible=!0,e.message=t.xxnr,t.zt=2})).catch((function(){}))},changetabs:function(t){console.log("handleClick----\x3e",t._props),1==t._props.name?this.data=[]:this.onLoad(this.page)},searchChange:function(t,e){this.query=t,this.page.currentPage=1,this.onLoad(this.page,t),e()},searchReset:function(){this.query={},this.onLoad(this.page)},currentChange:function(t){this.page.currentPage=t,this.onLoad(this.page)},sizeChange:function(t){this.page.pageSize=t,this.onLoad(this.page)},onLoad:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(s["getZnxList"])(t.currentPage,t.pageSize,Object.assign(i,this.query)).then((function(t){console.log(t.data.data.records),e.tempArr=t.data.data.records,e.data=e.tempArr,e.loading=!1,e.page.total=t.data.data.total,e.selectionClear()})).catch((function(){e.loading=!1}))},selectionChange:function(t){this.selectionList=t},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},biaojiyidu:function(){var t=this;0!==this.selectionList.length?Object(s["getBjyd"])(this.ids).then((function(){t.onLoad(t.page)})).catch((function(){})):this.$message.warning("请选择至少一条数据")},qianbuyidu:function(){var t=this;Object(s["getBjyd"])("all").then((function(){t.onLoad(t.page)})).catch((function(){}))}}},r=o,c=(i("39ff"),i("2877")),l=Object(c["a"])(r,n,a,!1,null,"532fc8f6",null);e["default"]=l.exports},c9e4:function(t,e,i){t.exports=i.p+"img/gzt-sbss.2c030571.png"},ca4a:function(t,e,i){},d26f:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("basic-container",[i("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[i("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"end"}},[i("el-form-item",[i("el-button",{on:{click:t.handleCancel}},[t._v("关闭")])],1)],1),i("el-card",{attrs:{shadow:"hover"}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("span",[t._v("审批信息")])]),i("el-form-item",{attrs:{label:"申请人"}},[i("el-input",{attrs:{disabled:!0},model:{value:t.form.flow.assigneeName,callback:function(e){t.$set(t.form.flow,"assigneeName",e)},expression:"form.flow.assigneeName"}})],1),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"开始时间"}},[i("el-input",{attrs:{disabled:!0},model:{value:t.form.startTime,callback:function(e){t.$set(t.form,"startTime",e)},expression:"form.startTime"}})],1)],1),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"结束时间"}},[i("el-input",{attrs:{disabled:!0},model:{value:t.form.endTime,callback:function(e){t.$set(t.form,"endTime",e)},expression:"form.endTime"}})],1)],1)],1),i("el-form-item",{attrs:{label:"请假理由"}},[i("el-input",{attrs:{disabled:!0,type:"textarea"},model:{value:t.form.reason,callback:function(e){t.$set(t.form,"reason",e)},expression:"form.reason"}})],1)],1),i("el-card",{attrs:{shadow:"hover"}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("span",[t._v("流程信息")])]),i("el-row",{staticClass:"row-bg",attrs:{type:"flex"}},[i("el-timeline",t._l(t.flowList,(function(e){return i("el-timeline-item",{key:e.id,attrs:{timestamp:e.createTime,placement:"top"}},[i("el-card",{attrs:{shadow:"hover"}},[i("p",[t._v(t._s(e.assigneeName)+" 在 ["+t._s(e.createTime)+"] 开始处理 ["+t._s(e.historyActivityName)+"] 环节")]),""!==e.historyActivityDurationTime?i("p",[t._v("任务历时 ["+t._s(e.historyActivityDurationTime)+"]")]):t._e(),""!==e.comment?i("p",[t._v("批复意见: ["+t._s(e.comment)+"]")]):t._e(),""!==e.endTime?i("p",[t._v("结束时间: ["+t._s(e.endTime)+"]")]):t._e()])],1)})),1)],1)],1),i("el-card",{attrs:{shadow:"hover"}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("span",[t._v("流程跟踪")])]),i("el-row",{staticClass:"row-bg"},[i("flow-design",{attrs:{"is-display":!0,"process-instance-id":t.processInstanceId}})],1)],1)],1)],1)},a=[],s=i("fc8c"),o={data:function(){return{businessId:"",processInstanceId:"",src:"",flowList:[],form:{flow:{assigneeName:""},startTime:"",endTime:"",reason:""}}},created:function(){this.init()},methods:{init:function(){var t=this;this.processInstanceId=this.$route.params.processInstanceId,this.businessId=this.$route.params.businessId,Object(s["historyFlowList"])(this.processInstanceId).then((function(e){var i=e.data;i.success&&(t.flowList=i.data)})),Object(s["leaveDetail"])(this.businessId).then((function(e){var i=e.data;i.success&&(t.form=i.data)}))},handleCancel:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/work/start"})}}},r=o,c=i("2877"),l=Object(c["a"])(r,n,a,!1,null,null,null);e["default"]=l.exports},d6d6:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{style:{height:t.height,width:t.width}})},a=[],s=i("0e0b"),o={name:"",props:{width:{type:String,default:"100%"},height:{type:String,default:"400px"},legend:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},dataX:{type:Array,default:function(){return[]}},fn:{type:Function,default:function(){}}},data:function(){return{charts:""}},watch:{data:function(){this.initChart()}},activated:function(){this.__resizeHandler()},mounted:function(){var t=this;this.initChart(),this.__resizeHandler=Object(s["a"])((function(){t.charts&&t.charts.resize()}),100),window.addEventListener("resize",this.__resizeHandler)},beforeDestroy:function(){this.charts&&(window.removeEventListener("resize",this.__resizeHandler),this.charts.dispose(),this.charts=null)},methods:{initChart:function(){var t=this;this.charts&&this.charts.dispose(),this.charts=this.$echarts.init(this.$el);var e={};e=0==this.data.length?{title:{text:"暂无数据",x:"center",y:"center",textStyle:{fontSize:12,fontWeight:"normal",color:"#000"}}}:{grid:{left:"5%",right:"2%"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{top:0,itemWidth:10,itemHeight:10,textStyle:{fontSize:12,padding:[3,0,0,0]},data:this.legend},xAxis:{type:"category",axisTick:{show:!1},axisLabel:{interval:0,rotate:25},data:this.dataX},yAxis:{type:"value"},series:this.data},this.charts.setOption(e),this.charts.off("click"),this.charts.on("click",(function(e){t.$emit("fn",e)}))}}},r=o,c=i("2877"),l=Object(c["a"])(r,n,a,!1,null,"24677242",null);e["default"]=l.exports},dcff:function(t,e,i){},dd4b:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("basic-container",[i("el-row",[i("el-col",{attrs:{span:24}},[i("avue-crud",{ref:"crud",attrs:{option:t.option,"table-loading":t.loading,data:t.dataParent,page:t.pageParent,permission:t.permissionList,"before-open":t.beforeOpen},on:{"row-del":t.rowDel,"row-update":t.rowUpdate,"row-save":t.rowSave,"row-click":t.handleRowClick,"search-change":t.searchChange,"search-reset":t.searchReset,"selection-change":t.selectionChange,"current-change":t.currentChange,"size-change":t.sizeChange,"refresh-change":t.refreshChange,"on-load":t.onLoadParent},scopedSlots:t._u([{key:"isSealed",fn:function(e){var n=e.row;return[i("el-tag",[t._v(t._s(0===n.isSealed?"否":"是"))])]}}]),model:{value:t.formParent,callback:function(e){t.formParent=e},expression:"formParent"}},[i("template",{slot:"menuLeft"},[t.permission.dict_delete?i("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:t.handleDelete}},[t._v("删 除\n            ")]):t._e()],1)],2)],1)],1)],1),i("basic-container",[i("el-row",[i("el-col",{attrs:{span:24}},[i("avue-crud",{ref:"crudChild",attrs:{option:t.option,"table-loading":t.loading,data:t.dataChild,page:t.pageChild,permission:t.permissionList,"before-open":t.beforeOpenChild},on:{"row-del":t.rowDelChild,"row-update":t.rowUpdateChild,"row-save":t.rowSaveChild,"search-change":t.searchChangeChild,"search-reset":t.searchResetChild,"selection-change":t.selectionChangeChild,"current-change":t.currentChangeChild,"size-change":t.sizeChangeChild,"refresh-change":t.refreshChangeChild,"on-load":t.onLoadChild},scopedSlots:t._u([{key:"isSealed",fn:function(e){var n=e.row;return[i("el-tag",[t._v(t._s(0===n.isSealed?"否":"是"))])]}}]),model:{value:t.formChild,callback:function(e){t.formChild=e},expression:"formChild"}},[i("template",{slot:"menuLeft"},[t.permission.dict_delete?i("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:t.handleDelete}},[t._v("删 除\n            ")]):t._e()],1)],2)],1)],1)],1)],1)},a=[],s=(i("8e6e"),i("456d"),i("6762"),i("2fdb"),i("ac6a"),i("bd86")),o=i("7754"),r=i("5880");function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var h={data:function(){return{parentId:0,formParent:{},formChild:{},selectionList:[],query:{},loading:!0,pageParent:{pageSize:5,pageSizes:[5,10,30,50,100,200],currentPage:1,total:0},pageChild:{pageSize:5,pageSizes:[5,10,30,50,100,200],currentPage:1,total:0},dataParent:[],dataChild:[],option:{tip:!1,searchShow:!0,searchMenuSpan:6,tree:!0,border:!0,index:!0,selection:!0,viewBtn:!0,height:300,menuWidth:300,dialogWidth:880,column:[{label:"字典编号",prop:"code",search:!0,span:24,rules:[{required:!0,message:"请输入字典编号",trigger:"blur"}]},{label:"字典键值",prop:"dictKey",type:"number",rules:[{required:!0,message:"请输入字典键值",trigger:"blur"}]},{label:"字典名称",prop:"dictValue",search:!0,align:"center",rules:[{required:!0,message:"请输入字典名称",trigger:"blur"}]},{label:"字典排序",prop:"sort",type:"number",rules:[{required:!0,message:"请输入字典排序",trigger:"blur"}]},{label:"封存",prop:"isSealed",type:"select",dicData:[{label:"否",value:0},{label:"是",value:1}],slot:!0,rules:[{required:!0,message:"请选择封存",trigger:"blur"}]},{label:"字典备注",prop:"remark",search:!0,hide:!0}]}}},computed:l(l({},Object(r["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.dict_add,!1),viewBtn:this.vaildData(this.permission.dict_view,!1),delBtn:this.vaildData(this.permission.dict_delete,!1),editBtn:this.vaildData(this.permission.dict_edit,!1)}},ids:function(){var t=[];return this.selectionList.forEach((function(e){t.push(e.id)})),t.join(",")}}),methods:{rowSave:function(t,e,i){var n=this;Object(o["add"])(t).then((function(){n.onLoadParent(n.pageParent),n.$message({type:"success",message:"操作成功!"}),e()}),(function(t){window.console.log(t),i()}))},rowUpdate:function(t,e,i,n){var a=this;Object(o["update"])(t).then((function(){a.onLoadParent(a.pageParent),a.$message({type:"success",message:"操作成功!"}),i()}),(function(t){window.console.log(t),n()}))},rowDel:function(t){var e=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["remove"])(t.id)})).then((function(){e.onLoadParent(e.pageParent),e.$message({type:"success",message:"操作成功!"})}))},handleRowClick:function(t){this.parentId=t.id,this.onLoadChild(this.pageChild)},searchReset:function(){this.query={},this.onLoadParent(this.pageParent)},searchChange:function(t,e){this.query=t,this.pageParent.currentPage=1,this.onLoadParent(this.pageParent,t),e()},selectionChange:function(t){this.selectionList=t},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},handleDelete:function(){var t=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["remove"])(t.ids)})).then((function(){t.onLoadParent(t.pageParent),t.$message({type:"success",message:"操作成功!"}),t.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpen:function(t,e){var i=this;["edit","view"].includes(e)&&Object(o["getDict"])(this.formParent.id).then((function(t){i.formParent=t.data.data})),t()},currentChange:function(t){this.pageParent.currentPage=t},sizeChange:function(t){this.pageParent.pageSize=t},refreshChange:function(){this.onLoadParent(this.page,this.query)},rowSaveChild:function(t,e,i){var n=this;Object(o["add"])(t).then((function(){n.onLoadChild(n.pageChild),n.$message({type:"success",message:"操作成功!"}),e()}),(function(t){window.console.log(t),i()}))},rowUpdateChild:function(t,e,i,n){var a=this;Object(o["update"])(t).then((function(){a.onLoadChild(a.pageChild),a.$message({type:"success",message:"操作成功!"}),i()}),(function(t){window.console.log(t),n()}))},rowDelChild:function(t){var e=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["remove"])(t.id)})).then((function(){e.onLoadChild(e.pageChild),e.$message({type:"success",message:"操作成功!"})}))},searchResetChild:function(){this.query={},this.onLoadChild(this.pageChild)},searchChangeChild:function(t,e){this.query=t,this.pageChild.currentPage=1,this.onLoadChild(this.pageChild,t),e()},selectionChangeChild:function(t){this.selectionList=t},selectionClearChild:function(){this.selectionList=[],this.$refs.crudChild.toggleSelection()},handleDeleteChild:function(){var t=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["remove"])(t.ids)})).then((function(){t.onLoadChild(t.pageChild),t.$message({type:"success",message:"操作成功!"}),t.$refs.crudChild.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpenChild:function(t,e){var i=this;["edit","view"].includes(e)&&Object(o["getDict"])(this.formChild.id).then((function(t){i.formChild=t.data.data})),t()},currentChangeChild:function(t){this.pageChild.currentPage=t},sizeChangeChild:function(t){this.pageChild.pageSize=t},refreshChangeChild:function(){this.onLoadChild(this.pageChild,this.query)},onLoadParent:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["getParentList"])(t.currentPage,t.pageSize,Object.assign(i,this.query)).then((function(t){var i=t.data.data;e.pageParent.total=i.total,e.dataParent=i.records,e.loading=!1,e.selectionClear()}))},onLoadChild:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["getChildList"])(t.currentPage,t.pageSize,this.parentId,Object.assign(i,this.query)).then((function(t){var i=t.data.data;e.pageChild.total=i.total,e.dataChild=i.records,e.loading=!1,e.selectionClear()}))}}},d=h,u=i("2877"),f=Object(u["a"])(d,n,a,!1,null,null,null);e["default"]=f.exports},ddfd:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAkFJREFUSEvdlc9rE1EQx2fe283upkIpGiyi4kXw0L9BKnoJiIRAPEgPvYmgVOmhtGY3m9ZYf4DUUvHmRUER0iy1ePSkeJFCRU8VKvjrohKRZE2yb0Y2YmlJG5fUHPQdH2++n53vfIdF6PLBLuvDfw1gTBeq/fMXez5tx8YtLUrl/aOIPK30xqmF8d43nUJaAK7L4iVWkyC1RQZSDDDtZS37rwBC8WXhn0Sp3SdSNUS8Vcqao52Kh3VrHWQyLIOBH0Mg8A4AV5jUnJfbMbEd8TVA8tyKEdu1b1gInkXEGDE/lkqNg64DKWwbZUV1Jk18WczGP2z2Mc3i1GT1PCJeQxQ6AzEzLyEA8roO23SiEMRbJnoqpfasmI29WP+2CUhP+TkGsBGFZKbQuVfALAAjLCKDBIQDmmHGgpq/xIgzXta6+xvSBCRn2TDL1TFG4QhEycQPqMEz0gBk+gNEoCSE/UJBUkh9iKjxlRlGPMe6t2HIzTkk9o4iwiUE/swkcl7OvB11yJnL3xMBaWeE0POkGu8DgMOPbGt1wwAH3VWzV+4ekUK/whR8Y8CcZ5s3I0NusBVUag9RyONENOXZhtOSkEGXzT7hnxW6eZ2Celkw2UUnPhcVks77R1jAEwR8PW+bA5tGMHPhnaV2Jk4TcQGBj5Wc+POogNCFPtnvA0C9ZFvGlhkfdtksQ+WQ5/Ys/0ps9JMuNBgRoTihtV+i6JIbX6Ym/ZXwxnOsg1354Zy4yntCwMIYfuwKoGWTO7UiSt2/38FP2M3gGd38SfIAAAAASUVORK5CYII="},e8d5:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{display:"inline-block"}},[i("el-button",{staticClass:"el-icon-notebook-2",attrs:{size:t.size,type:t.type},on:{click:t.clickImport}},[t._v(" 结构字段")]),i("el-dialog",{attrs:{title:t.titleName,visible:t.visible,"append-to-body":!0,top:"5vh","close-on-click-modal":!1,width:"90%"},on:{"update:visible":function(e){t.visible=e}}},[i("avue-crud",{ref:"crud",attrs:{option:t.option,"table-loading":t.loading,data:t.data,page:t.page,permission:t.permissionList,"before-open":t.beforeOpen},on:{"update:page":function(e){t.page=e},"row-update":t.rowUpdate,"row-save":t.rowSave,"row-del":t.rowDel,"search-change":t.searchChange,"search-reset":t.searchReset,"selection-change":t.selectionChange,"current-change":t.currentChange,"size-change":t.sizeChange,"refresh-change":t.refreshChange,"on-load":t.onLoad},scopedSlots:t._u([{key:"menuLeft",fn:function(e){var n=e.size;return[i("el-button",{attrs:{size:n,icon:"el-icon-delete"},on:{click:t.handleDelete}},[t._v("删 除")]),i("el-button",{attrs:{size:n,icon:"el-icon-upload2"},on:{click:t.handleImport}},[t._v("批量加载字段")])]}},{key:"menuForm",fn:function(e){var n=e.size,a=e.type;return["add"===a?i("el-button",{staticStyle:{float:"left"},attrs:{size:n,type:"text"}},[i("el-checkbox",{attrs:{size:n},model:{value:t.continueAdd,callback:function(e){t.continueAdd=e},expression:"continueAdd"}},[t._v("继续新增下一条")])],1):t._e()]}},{key:"importFlag",fn:function(e){return[1===e.row.importFlag?i("span",{staticStyle:{color:"red"}},[t._v("\n          是")]):i("span",{staticStyle:{color:"#1e9fff"}},[t._v("否")])]}},{key:"exportFlag",fn:function(e){return[1===e.row.exportFlag?i("span",{staticStyle:{color:"red"}},[t._v("\n          是")]):i("span",{staticStyle:{color:"#1e9fff"}},[t._v("否")])]}},{key:"encryptFlag",fn:function(e){return[1===e.row.encryptFlag?i("span",{staticStyle:{color:"red"}},[t._v("\n          是")]):i("span",{staticStyle:{color:"#1e9fff"}},[t._v("否")])]}},{key:"required",fn:function(e){return[3===e.row.required?i("span",{staticStyle:{color:"brown"}},[t._v("\n          空值预警")]):t._e(),2===e.row.required?i("span",{staticStyle:{color:"blue"}},[t._v("\n          有条件必填")]):t._e(),1===e.row.required?i("span",{staticStyle:{color:"red"}},[t._v("\n          是")]):t._e(),0===e.row.required?i("span",{staticStyle:{color:"#1e9fff"}},[t._v("否")]):t._e()]}},{key:"fieldType",fn:function(e){return[1===e.row.fieldType?i("span",{staticStyle:{color:"black"}},[t._v("\n          字符串")]):t._e(),2===e.row.fieldType?i("span",{staticStyle:{color:"lightseagreen"}},[t._v("\n          整数")]):t._e(),3===e.row.fieldType?i("span",{staticStyle:{color:"blueviolet"}},[t._v("\n          浮点型")]):t._e(),4===e.row.fieldType?i("span",{staticStyle:{color:"brown"}},[t._v("\n          枚举")]):t._e(),5===e.row.fieldType?i("span",{staticStyle:{color:"red"}},[t._v("\n          业务字典")]):t._e(),6===e.row.fieldType?i("span",{staticStyle:{color:"blue"}},[t._v("\n          系统字典")]):t._e(),7===e.row.fieldType?i("span",{staticStyle:{color:"mediumvioletred"}},[t._v("\n          行政区划")]):t._e(),8===e.row.fieldType?i("span",{staticStyle:{color:"#0073eb"}},[t._v("\n          附件URL")]):t._e(),9===e.row.fieldType?i("span",{staticStyle:{color:"mediumvioletred"}},[t._v("\n          统一信用代码")]):t._e()]}}]),model:{value:t.form,callback:function(e){t.form=e},expression:"form"}}),i("el-dialog",{attrs:{title:"批量加载字段","append-to-body":"",visible:t.filedBox,width:"555px"},on:{"update:visible":function(e){t.filedBox=e}}},[i("avue-form",{attrs:{option:t.filedOption},model:{value:t.filedForm,callback:function(e){t.filedForm=e},expression:"filedForm"}}),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.filedBox=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.submitFiled}},[t._v("确 定")])],1)],1)],1)],1)},a=[],s=(i("8e6e"),i("456d"),i("6762"),i("2fdb"),i("ac6a"),i("bd86")),o=i("0335"),r=i("ead8"),c=i("0e0b"),l=i("5880");function h(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var u={data:function(){return{titleName:"结构字段",visible:!1,filedBox:!1,form:{},query:{},loading:!0,page:{pageSize:20,currentPage:1,total:0},selectionList:[],data:[],continueAdd:!1,filedForm:{},filedOption:{submitBtn:!1,emptyBtn:!1,column:[{label:"导入策略",prop:"handleWay",type:"select",dicData:[{label:"覆盖",value:1},{label:"跳过",value:2}],span:24,value:2},{label:"描述",prop:"fieldMs",type:"textarea",width:170,span:24,value:"覆盖则清除所有字段，自动导入所有字段，跳过忽略已存在字段，导入不存在字段。默认删除配置表中多余字段。"}]}}},computed:d(d({},Object(l["mapGetters"])(["permission"])),{},{option:function(){var t=this,e=Object(c["b"])(r["default"]);return e.column.forEach((function(e){"dictCode"!=e.prop&&"bizDictCode"!=e.prop||(e.nodeClick=function(e){t.form.regular="dict_code",t.form.extendContent=e.code})})),e},permissionList:function(){return{addBtn:this.vaildData(this.permission.dataItem_add,!0),viewBtn:this.vaildData(this.permission.dataItem_view,!0),delBtn:this.vaildData(this.permission.dataItem_delete,!0),editBtn:this.vaildData(this.permission.dataItem_edit,!0)}},ids:function(){var t=[];return this.selectionList.forEach((function(e){t.push(e.id)})),t.join(",")}}),props:["dataId","dataName","dataVersion","tableName","size","type"],methods:{clickImport:function(){this.titleName="结构字段 — "+this.dataName+" — "+this.tableName+" — "+this.dataVersion,this.visible=!0},handleImport:function(){this.dataId?this.filedBox=!0:this.$message.warning("主体id不能为空")},submitFiled:function(){var t=this;this.dataId?this.$confirm("确定将选择导入?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["submitData"])(t.dataId,t.filedForm.handleWay)})).then((function(){t.filedBox=!1,t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})})):this.$message.warning("主体id不能为空")},rowSave:function(t,e,i){var n=this;this.dataId&&(t.dataBodyId=this.dataId),Object(o["add"])(t).then((function(){n.onLoad(n.page),n.$message({type:"success",message:"操作成功!"}),e()}),(function(t){i(),window.console.log(t)}))},rowUpdate:function(t,e,i,n){var a=this;Object(o["update"])(t).then((function(){a.onLoad(a.page),a.$message({type:"success",message:"操作成功!"}),i()}),(function(t){n(),console.log(t)}))},rowDel:function(t){var e=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["remove"])(t.id)})).then((function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"})}))},handleDelete:function(){var t=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["remove"])(t.ids)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"}),t.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpen:function(t,e){var i=this;["edit","view"].includes(e)&&Object(o["getDetail"])(this.form.id).then((function(t){i.form=t.data.data,null==i.form.minValue&&(i.form.minValue=void 0),null==i.form.maxValue&&(i.form.maxValue=void 0),1===i.form.fieldType&&(i.form.extendContent?i.form.regular=i.form.extendContent:i.form.regular=null),5===i.form.fieldType&&(i.form.extendContent?i.form.bizDictCode=i.form.extendContent:i.form.bizDictCode=null),6===i.form.fieldType&&(i.form.extendContent?i.form.dictCode=i.form.extendContent:i.form.dictCode=null)})),t()},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(t,e){this.query=t,this.page.currentPage=1,this.onLoad(this.page,t),e()},selectionChange:function(t){this.selectionList=t},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},currentChange:function(t){this.page.currentPage=t},sizeChange:function(t){this.page.pageSize=t},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,this.dataId&&(this.query.dataBodyId=this.dataId),Object(o["getPage"])(t.currentPage,t.pageSize,Object.assign(i,this.query)).then((function(t){var i=t.data.data;e.page.total=i.total,i.records&&i.records.forEach((function(t){t&&(t.dataName=e.dataName,t.dataVersion=e.dataVersion,t.tableName=e.tableName)})),e.data=i.records,e.loading=!1,e.selectionClear()}))}}},f=u,p=i("2877"),g=Object(p["a"])(f,n,a,!1,null,null,null);e["default"]=g.exports},e910:function(t,e,i){t.exports=i.p+"img/gzt-cl.b54bb8c0.png"},eaa2:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("basic-container",[i("avue-form",{attrs:{option:t.option},on:{submit:t.handleSubmit},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}})],1),i("basic-container",[i("flow-design",{attrs:{"is-display":!0,"process-definition-id":t.processDefinitionId}})],1)],1)},a=[],s=(i("8e6e"),i("ac6a"),i("456d"),i("bd86")),o=i("fc8c");function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var l={data:function(){return{processDefinitionId:"",form:{},option:{group:[{icon:"el-icon-info",label:"请假基础信息",prop:"group1",column:[{label:"审批人员",prop:"taskUser",type:"select",dicUrl:"/api/blade-user/user-list",props:{label:"account",value:"id"},span:24,rules:[{required:!0,message:"请选择审批人员",trigger:"blur"}]},{label:"开始时间",prop:"startTime",type:"datetime",valueFormat:"yyyy-MM-dd HH:mm:ss",rules:[{required:!0,message:"请选择开始时间",trigger:"blur"}]},{label:"结束时间",prop:"endTime",type:"datetime",valueFormat:"yyyy-MM-dd HH:mm:ss",rules:[{required:!0,message:"请选择结束时间",trigger:"blur"}]},{label:"请假理由",prop:"reason",type:"textarea",span:24,rules:[{required:!0,message:"请输入请假理由",trigger:"blur"}]}]}]}}},created:function(){this.processDefinitionId=this.$route.params.processDefinitionId},methods:{handleSubmit:function(){var t=this,e=c({processDefinitionId:this.$route.params.processDefinitionId},this.form);Object(o["leaveProcess"])(e).then((function(e){var i=e.data;i.success?(t.$message.success(i.msg),t.$router.$avueRouter.closeTag(),t.$router.push({path:"/work/start"})):t.$message.error(i.msg||"提交失败")}))}}},h=l,d=i("2877"),u=Object(d["a"])(h,n,a,!1,null,null,null);e["default"]=u.exports},ed41:function(t,e,i){t.exports=i.p+"img/gzt-cyry.af979d46.png"},ee33:function(t,e,i){t.exports=i.p+"img/gzt-yh.1f712041.png"},f4e3:function(t,e,i){"use strict";i("92c9")},f764:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("basic-container",[n("div",{staticClass:"bt"},[n("img",{attrs:{src:i("ddfd"),alt:""},on:{click:function(e){return t.$emit("toReturn")}}}),n("span",{staticStyle:{color:"#244589",padding:"0 10px"}},[t._v("|")]),n("b",[t._v("审核情况汇总列表")])]),n("div",{staticClass:"message"},[n("avue-crud",{ref:"crud",attrs:{option:t.option,"table-loading":t.loading,data:t.data,page:t.page},on:{"update:page":function(e){t.page=e},"search-change":t.searchChange,"search-reset":t.searchReset,"current-change":t.currentChange,"size-change":t.sizeChange,"refresh-change":t.refreshChange,"on-load":t.onLoad},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}})],1)])},a=[],s=(i("8e6e"),i("ac6a"),i("456d"),i("bd86")),o=i("0eb5"),r=i("5880");function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var h={props:["tabIndex","xzqhCode"],data:function(){return{loading:!1,data:[],form:{},page:{pageSize:20,currentPage:1,total:0}}},computed:l(l({},Object(r["mapGetters"])(["userInfo"])),{},{option:function(){return{searchIndex:3,searchIcon:!1,searchShowBtn:!1,highlightCurrentRow:!0,menuWidth:360,height:"auto",calcHeight:30,tip:!0,searchShow:!0,searchMenuSpan:8,searchLabelWidth:100,labelWidth:140,border:!0,stripe:!0,index:!0,indexLabel:"序号",cancelBtnText:"关闭",cancelBtnIcon:"el-icon-close",columnBtn:!1,selection:!1,addBtn:!1,viewBtn:!1,editBtn:!1,delBtn:!1,menu:!1,column:[{width:200,overHidden:!0,label:"地区",prop:"zcdXzqMc",type:"input"},{width:200,overHidden:!0,label:"燃气企业",prop:"qymc",type:"input"},{label:"数据项名称",prop:"dataName",overHidden:!0,search:!0,width:200},{label:"提交总量（条）",prop:"tjzs",align:"right",width:120},{label:"区县待审核（条）",prop:"qxdshzs",align:"right",width:120},{label:"区县审核通过（条）",prop:"qxtgzs",align:"right",width:150},{label:"区县审核未通过（条）",prop:"qxwtgzs",align:"right",width:150},{label:"地市待复审（条）",prop:"dsdshzs",align:"right",width:120},{label:"地市复审通过（条）",prop:"dstgzs",align:"right",width:150},{label:"地市复审未通过（条）",prop:"dswtgzs",align:"right",width:150}]}}}),methods:{onLoad:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["getList"])(t.currentPage,t.pageSize,Object.assign(i,this.query)).then((function(t){e.data=t.data.data.records,e.page.total=t.data.data.total,e.loading=!1}))},currentChange:function(t){this.page.currentPage=t},sizeChange:function(t){this.page.pageSize=t},searchChange:function(t,e){this.query=t,this.page.currentPage=1,this.onLoad(this.page,t),e()},searchReset:function(){this.query={},this.onLoad(this.page)},refreshChange:function(){this.onLoad(this.page,this.query)}}},d=h,u=(i("9191"),i("2877")),f=Object(u["a"])(d,n,a,!1,null,"a9e57292",null);e["default"]=f.exports}}]);